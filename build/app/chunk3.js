/*! Built with http://stenciljs.com */
const{h:e}=window.App;let n=1;function t(e,t){return Object.assign(e,t),e.overlayId=n++,(document.querySelector("ion-app")||document.body).appendChild(e),e.componentOnReady()}function i(e,n,t,i){i=i>=0?i:r(t);const o=t.get(i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")}function o(e){return e.get(r(e))}function r(e){let n=-1;return e.forEach((e,t)=>{t>n&&(n=t)}),n}function s(e){const n=o(e);return n?n.dismiss():Promise.resolve()}function a(e,n,t,i,o){if(e.presented)return Promise.resolve();e.presented=!0,e.willPresent.emit();const r=e.enterAnimation?e.enterAnimation:e.config.get(n,"ios"===e.mode?t:i);return d(e,r,e.el,o).then(()=>{e.didPresent.emit()})}function c(e,n,t,i,o,r,s){if(!e.presented)return Promise.resolve();e.presented=!1,e.willDismiss.emit({data:n,role:t});const a=e.leaveAnimation?e.leaveAnimation:e.config.get(i,"ios"===e.mode?o:r);return d(e,a,e.el,s).then(()=>{e.didDismiss.emit({data:n,role:t}),e.el.remove()})}function d(e,n,t,i){return e.animation&&(e.animation.destroy(),e.animation=void 0),e.keyboardClose&&function(){const e=document.activeElement;e&&e.blur&&e.blur()}(),e.animationCtrl.create(n,t,i).then(n=>(e.animation=n,e.willAnimate||n.duration(0),n.playAsync())).then(n=>{n.destroy(),e.animation=void 0})}function m(e,n,t){let i;const o=new Promise(e=>i=e);return function(e,n,t){const i=o=>{e.removeEventListener(n,i),t(o)};e.addEventListener(n,i)}(e,n,e=>{const n=e.detail;t&&t(n),i(n)}),o}export{t as createOverlay,i as dismissOverlay,o as getTopOverlay,s as removeLastOverlay,c as dismiss,m as eventMethod,a as present};